@inherits LayoutComponentBase

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
	<AuthorizeView>
		<NotAuthorized>
			<RedirectToLogin></RedirectToLogin>
		</NotAuthorized>
	</AuthorizeView>

	<MudAppBar Elevation="1">
		<MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
		<MudText Typo="Typo.h5" Class="ml-3">App Registration Portal</MudText>
		<MudAppBarSpacer />
		<LoginDisplay />
		@*<MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />*@
	</MudAppBar>

	<AuthorizeView Policy="@Constants.Auth.DisplayNavigation">
		<Authorized>
			<MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
				<NavMenu />
			</MudDrawer>
		</Authorized>
	</AuthorizeView>

	<MudMainContent>
		@Body
	</MudMainContent>
</MudLayout>

@code {
	bool _drawerOpen = true;

	void DrawerToggle()
	{
		_drawerOpen = !_drawerOpen;
	}
}


@*<div class="page">
	<div class="sidebar">
	<NavMenu />
	</div>

	<div class="main">
	<div class="top-row px-4 auth">
	<LoginDisplay />
	<a href="https://docs.microsoft.com/aspnet/" target="_blank">About</a>
	</div>

	<div class="content px-4">
	@Body
	</div>
	</div>
	</div>
*@